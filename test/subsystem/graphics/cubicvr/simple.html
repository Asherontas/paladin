<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    
    <head>
        <script src="../../../../lib/CubicVR.js" type="text/javascript"></script>
        <script src="../../../../src/paladin.js" type="text/javascript"></script>
        <script src="../../../../src/subsystem/paladin.js" type="text/javascript"></script>
        <script src="../../../../src/subsystem/paladin.subsystem.js" type="text/javascript"></script>
        <script src="../../../../src/subsystem/graphics/paladin.subsystem.graphics.cubicvr.js" type="text/javascript"></script>
        <script type="text/javascript">

          document.addEventListener('DOMContentLoaded', function (e) {

            function Game() {
              var paladin = this.paladin = new Paladin(),
                  gfx = paladin.Subsystem.start("graphics"),
                  scene = gfx.createScene( "test", 60 ),
                  camera = gfx.createCamera();

              scene.bindCamera(camera);

              var cameraTask = Paladin.tasker.add({
                callback: function( task ) {
                  var index = Date.now() - task.time;
                  camera.position = [Math.sin(index), 1, Math.cos(index)];
                  return task.CONT;
                },
                name: "rotate camera"
              });

              this.run = function () {
                gfx.enableScene(scene);
                paladin.run();
              };
            };

            var game = new Game();

          }, false);

        </script>
    </head>   
    
    <body>
    </body>
    
</html>
